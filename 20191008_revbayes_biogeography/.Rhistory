install.packages("devtools")
install_github("GuangchuangYu/ggtree")
library(devtools)
install_github("GuangchuangYu/ggtree")
library(optimx)
install.packages(optimx)
install.packages("optimx", repos="http://R-Forge.R-project.org")
install.packages("FD", repos="http://R-Forge.R-project.org")
install.packages("snow", repos="http://R-Forge.R-project.org")
install.packages("parallel", repos="http://R-Forge.R-project.org")
install.packages("BioGeoBEARS", repos="http://R-Forge.R-project.org")
setRepositories()
setReplaceMethod(ind = c(1:8))
setRepositories()
install.packages("BioGeoBEARS", repos="http://R-Forge.R-project.org")
install.packages("BioGeoBEARS")
install.packages("optimx")
install.packages("FD")
install.packages("snow")
install.packages("parallel")
install.packages("optimx")
library('optimx')
library(FD)
library(snow)     # (if you want to use multicore functionality; some systems/R versions prefer library(parallel), try either)
library(parallel)
library(BioGeoBEARS)
source("http://phylo.wdfiles.com/local--files/biogeobears/cladoRcpp.R") # (needed now that traits model added; source FIRST!)
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_add_fossils_randomly_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_basics_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_calc_transition_matrices_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_classes_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_detection_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_DNA_cladogenesis_sim_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_extract_Qmat_COOmat_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_generics_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_models_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_on_multiple_trees_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_plots_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_readwrite_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_simulate_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_SSEsim_makePlots_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_SSEsim_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_stochastic_mapping_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_stratified_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_univ_model_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/calc_uppass_probs_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/calc_loglike_sp_v01.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/get_stratified_subbranch_top_downpass_likelihoods_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/runBSM_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/stochastic_map_given_inputs.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/summarize_BSM_tables_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_traits_v1.R") # added traits model
calc_loglike_sp = compiler::cmpfun(calc_loglike_sp_prebyte)    # crucial to fix bug in uppass calculations
calc_independent_likelihoods_on_each_branch = compiler::cmpfun(calc_independent_likelihoods_on_each_branch_prebyte)
# slight speedup hopefully
install.packages("rexpokit")
install.packages("gfortran")
library(optimx)
library(FD)
library(snow)     # (if you want to use multicore functionality; some systems/R versions prefer library(parallel), try either)
library(parallel)
library(BioGeoBEARS)
source("http://phylo.wdfiles.com/local--files/biogeobears/cladoRcpp.R") # (needed now that traits model added; source FIRST!)
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_add_fossils_randomly_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_basics_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_calc_transition_matrices_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_classes_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_detection_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_DNA_cladogenesis_sim_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_extract_Qmat_COOmat_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_generics_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_models_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_on_multiple_trees_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_plots_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_readwrite_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_simulate_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_SSEsim_makePlots_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_SSEsim_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_stochastic_mapping_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_stratified_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_univ_model_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/calc_uppass_probs_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/calc_loglike_sp_v01.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/get_stratified_subbranch_top_downpass_likelihoods_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/runBSM_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/stochastic_map_given_inputs.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/summarize_BSM_tables_v1.R")
source("http://phylo.wdfiles.com/local--files/biogeobears/BioGeoBEARS_traits_v1.R") # added traits model
calc_loglike_sp = compiler::cmpfun(calc_loglike_sp_prebyte)    # crucial to fix bug in uppass calculations
calc_independent_likelihoods_on_each_branch = compiler::cmpfun(calc_independent_likelihoods_on_each_branch_prebyte)
# slight speedup hopefully
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages(c("ape", "cli", "colorspace", "foreign", "Matrix", "mime", "Rcpp", "rstudioapi", "rvcheck", "survival"))
install.packages("roxygen2")
version
workshop.packages <- c("rwty", "knitr", "bookdown", "strap", "devtools", "ape", "phytools", "geiger", "OUwie")
install.packages(workshop.packages, dependencies = TRUE)
devtools::install_github("graemetlloyd/Claddis")
install.packages("BiocManager")
BiocManager::install("ggtree")
install.packages(workshop.packages, dependencies = TRUE)
install.packages(workshop.packages, dependencies = TRUE)
library(RevGadgets)
citation()
devtools::install_github(repo="nmatzke/BioGeoBEARS", INSTALL_opts="--byte-compile", dependencies=FALSE)
quit()
setwd("Documents/StackIP/Teaching and courses/2019_Systematics/2019_fall_UH_Systematics_class/20191008_revbayes_biogeography")
listfiles()
library(RevGadgets)
library(ggtree)
library(ggplot2)
tree_fn = "five_area_DEC.tre"
label_fn = "five_area_DEC.state_labels.txt"
color_fn = "range_colors_5area.txt"
# set area names
area_names = c("W","E","N","A","B")
# get state labels
state_descriptions = read.csv(label_fn, header=T,
sep=",", colClasses="character")
# map presence-absence ranges to area names
range_labels = sapply(state_descriptions$range[2:nrow(state_descriptions)],
function(x) {
present = as.vector(gregexpr(pattern="1", x)[[1]])
paste( area_names[present], collapse="")
})
state_labels = range_labels
names(state_labels) = as.character(1:(nrow(state_descriptions)-1))
# generate colors for ranges
range_color_list = read.csv(color_fn, header=T, sep=",",
na.string="QQ", colClasses="character")
range_colors = range_color_list$color[ match(range_labels, range_color_list$range) ]
# plot ranges
plot_ancestral_states(tree_file=tree_fn,
title="Five state DEC",
tree_layout="rectangular",
include_start_states=TRUE,
shoulder_label_size=0,
summary_statistic="MAPRange",
state_labels=state_labels,
state_colors=range_colors,
tip_node_size=4,
node_label_size=2,
node_size_range=c(1,4),
tip_label_size=2,
alpha=1,
show_posterior_legend=TRUE,
show_tree_scale=TRUE)
source("scripts/plot_anc_state.simple.R"
as;ldfj
source("scripts/plot_anc_state.simple.R")
